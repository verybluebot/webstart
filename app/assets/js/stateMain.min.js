/*!
 * hungry-dragon
 * Hungry dragon game made in Phaser
 * https://github.com/verybluebot
 * @author Blue Bot
 * @version 1.0.0
 * Copyright 2018. MIT licensed.
 */
"use strict";var StateMain={preload:function(){game.load.spritesheet("dragon","assets/img/main/dragon.png",120,85,4),game.load.image("background","assets/img/main/background.png"),game.load.spritesheet("balloon","assets/img/main/thought.png"),game.load.spritesheet("candy","assets/img/main/candy.png",52,50,8)},create:function(){this.top=0,score=0,this.dragon=game.add.sprite(0,0,"dragon"),this.dragon.animations.add("fly",[0,1,2,3],12,!0),this.dragon.animations.play("fly"),game.physics.startSystem(Phaser.Physics.ARCADE),this.bottom=game.height-146,this.background=game.add.tileSprite(0,game.height-480,game.width,480,"background"),this.dragon.bringToTop(),this.candies=game.add.group(),this.candies.createMultiple(40,"candy"),this.candies.setAll("checkWorldBounds",!0),this.candies.setAll("outOfBoundsKill",!0),this.ballon=game.add.image(0,0,"balloon"),this.think=game.add.image(36,26,"candy"),this.balloonGroup=game.add.group(),this.balloonGroup.add(this.ballon),this.balloonGroup.add(this.think),this.balloonGroup.scale.x=.5,this.balloonGroup.scale.y=.5,this.balloonGroup.x=50,this.scoreText=game.add.text(this.world.centerX,90,"0"),this.scoreText.fill="#000",this.scoreText.fontSize=64,this.scoreText.anchor.set(.5,.5),this.scoreLabel=game.add.text(this.world.centerX,40,"Score"),this.scoreLabel.fill="#000",this.scoreLabel.fontSize=32,this.scoreLabel.anchor.set(.5,.5),game.physics.enable([this.dragon,this.candies],Phaser.Physics.ARCADE),this.dragon.body.gravity.y=500,this.dragon.body.immovable=!0,this.background.autoScroll(-100,0),this.setLisetners(),this.resetThink()},update:function(){game.physics.arcade.collide(this.dragon,this.candies,null,this.eatCandy,this),this.balloonGroup.y=this.dragon.y-40,game.input.activePointer.isDown&&this.flap(),this.dragon.y<this.top&&(this.dragon.y=this.top,this.dragon.body.velocity.y=0),this.dragon.y>this.bottom?(this.dragon.y=this.bottom,this.dragon.body.gravity.y=0):this.dragon.body.gravity.y=500},setLisetners:function(){game.time.events.loop(Phaser.Timer.SECOND,this.fireCandy,this)},resetThink:function(){var t=game.rnd.integerInRange(0,7);this.think.frame=t},eatCandy:function(t,e){e.frame==this.think.frame?(e.kill(),score++,this.scoreText.text=score,this.resetThink()):e.kill()},fireCandy:function(){var t=this.candies.getFirstDead(),e=game.rnd.integerInRange(0,game.height-90),a=game.width-100,i=game.rnd.integerInRange(0,7);t.frame=i,t.reset(a,e),t.enable=!0,t.body.velocity.x=-200},flap:function(){this.dragon.body.velocity.y=-350}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0YXRlTWFpbi5qcyJdLCJuYW1lcyI6WyJTdGF0ZU1haW4iLCJwcmVsb2FkIiwiZ2FtZSIsImxvYWQiLCJzcHJpdGVzaGVldCIsImltYWdlIiwiY3JlYXRlIiwidGhpcyIsInRvcCIsInNjb3JlIiwiZHJhZ29uIiwiYWRkIiwic3ByaXRlIiwiYW5pbWF0aW9ucyIsInBsYXkiLCJwaHlzaWNzIiwic3RhcnRTeXN0ZW0iLCJQaGFzZXIiLCJQaHlzaWNzIiwiQVJDQURFIiwiYm90dG9tIiwiaGVpZ2h0IiwiYmFja2dyb3VuZCIsInRpbGVTcHJpdGUiLCJ3aWR0aCIsImJyaW5nVG9Ub3AiLCJjYW5kaWVzIiwiZ3JvdXAiLCJjcmVhdGVNdWx0aXBsZSIsInNldEFsbCIsImJhbGxvbiIsInRoaW5rIiwiYmFsbG9vbkdyb3VwIiwic2NhbGUiLCJ4IiwieSIsInNjb3JlVGV4dCIsInRleHQiLCJ3b3JsZCIsImNlbnRlclgiLCJmaWxsIiwiZm9udFNpemUiLCJhbmNob3IiLCJzZXQiLCJzY29yZUxhYmVsIiwiZW5hYmxlIiwiYm9keSIsImdyYXZpdHkiLCJpbW1vdmFibGUiLCJhdXRvU2Nyb2xsIiwic2V0TGlzZXRuZXJzIiwicmVzZXRUaGluayIsInVwZGF0ZSIsImFyY2FkZSIsImNvbGxpZGUiLCJlYXRDYW5keSIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImlzRG93biIsImZsYXAiLCJ2ZWxvY2l0eSIsInRpbWUiLCJldmVudHMiLCJsb29wIiwiVGltZXIiLCJTRUNPTkQiLCJmaXJlQ2FuZHkiLCJzZWxlY3RlZENhbmR5Iiwicm5kIiwiaW50ZWdlckluUmFuZ2UiLCJmcmFtZSIsImNhbmR5Iiwia2lsbCIsImdldEZpcnN0RGVhZCIsInl5IiwieHgiLCJ0eXBlIiwicmVzZXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBUUEsWUFSQSxJQUFNQSxZQUNKQyxRQUFTLFdBQ1BDLEtBQUtDLEtBQUtDLFlBQVksU0FBVSw2QkFBOEIsSUFBSyxHQUFJLEdBQ3ZFRixLQUFL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LEtBQUsyRCxLQUFLQyxPQUFPQyxLQUFLOUMsT0FBTytDLE1BQU1DLE9BQVExRCxLQUFLMkQsVUFBVzNELE9BRzdENEMsV0FBWSxXQUNWLEdBQU1nQixHQUFnQmpFLEtBQUtrRSxJQUFJQyxlQUFlLEVBQUcsRUFDakQ5RCxNQUFLd0IsTUFBTXVDLE1BQVFILEdBR3JCWixTQUFVLFNBQVM3QyxFQUFRNkQsR0FDckJBLEVBQU1ELE9BQVMvRCxLQUFLd0IsTUFBTXVDLE9BRTVCQyxFQUFNQyxPQUNOL0QsUUFDQUYsS0FBSzZCLFVBQVVDLEtBQU81QixNQUN0QkYsS0FBSzRDLGNBR0xvQixFQUFNQyxRQUlWTixVQUFXLFdBQ1QsR0FBTUssR0FBUWhFLEtBQUttQixRQUFRK0MsZUFDckJDLEVBQUt4RSxLQUFLa0UsSUFBSUMsZUFBZSxFQUFHbkUsS0FBS21CLE9BQVMsSUFDOUNzRCxFQUFLekUsS0FBS3NCLE1BQVEsSUFDbEJvRCxFQUFPMUUsS0FBS2tFLElBQUlDLGVBQWUsRUFBRyxFQUV4Q0UsR0FBTUQsTUFBUU0sRUFDZEwsRUFBTU0sTUFBTUYsRUFBSUQsR0FDaEJILEVBQU0xQixRQUFTLEVBQ2YwQixFQUFNekIsS0FBS2MsU0FBUzFCLFFBR3RCeUIsS0FBTSxXQUNKcEQsS0FBS0csT0FBT29DLEtBQUtjLFNBQVN6QiIsImZpbGUiOiJzdGF0ZU1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU3RhdGVNYWluID0ge1xuICBwcmVsb2FkOiBmdW5jdGlvbigpIHtcbiAgICBnYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ2RyYWdvbicsICdhc3NldHMvaW1nL21haW4vZHJhZ29uLnBuZycsIDEyMCwgODUsIDQpO1xuICAgIGdhbWUubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvaW1nL21haW4vYmFja2dyb3VuZC5wbmcnKTtcbiAgICBnYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ2JhbGxvb24nLCAnYXNzZXRzL2ltZy9tYWluL3Rob3VnaHQucG5nJyk7XG5cbiAgICBnYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ2NhbmR5JywgJ2Fzc2V0cy9pbWcvbWFpbi9jYW5keS5wbmcnLCA1MiwgNTAsIDgpO1xuICB9LFxuXG4gIGNyZWF0ZTogZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLnRvcCA9IDA7XG4gICAgc2NvcmUgPSAwO1xuXG4gICAgLy8gRHJhZ29uXG4gICAgdGhpcy5kcmFnb24gPSBnYW1lLmFkZC5zcHJpdGUoMCwgMCwgJ2RyYWdvbicpO1xuXG4gICAgLy8gY3JlYXRlIGRyYWdvbiBhbmltYXRpb25cbiAgICB0aGlzLmRyYWdvbi5hbmltYXRpb25zLmFkZCgnZmx5JywgWzAsMSwyLDNdLCAxMiwgdHJ1ZSk7XG4gICAgdGhpcy5kcmFnb24uYW5pbWF0aW9ucy5wbGF5KCdmbHknKTtcblxuICAgIC8vIHN0YXJ0IHBoeXNpY3NcbiAgICBnYW1lLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcblxuICAgIHRoaXMuYm90dG9tID0gZ2FtZS5oZWlnaHQgLSAxNDY7XG5cbiAgICAvLyBCYWNrZ3JvdW5kXG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gZ2FtZS5hZGQudGlsZVNwcml0ZSgwLCBnYW1lLmhlaWdodCAtIDQ4MCwgZ2FtZS53aWR0aCwgNDgwLCAnYmFja2dyb3VuZCcpO1xuICAgIHRoaXMuZHJhZ29uLmJyaW5nVG9Ub3AoKTtcblxuICAgIC8vIENhbmRpZXNcbiAgICB0aGlzLmNhbmRpZXMgPSBnYW1lLmFkZC5ncm91cCgpO1xuICAgIHRoaXMuY2FuZGllcy5jcmVhdGVNdWx0aXBsZSg0MCwgJ2NhbmR5Jyk7XG4gICAgdGhpcy5jYW5kaWVzLnNldEFsbCgnY2hlY2tXb3JsZEJvdW5kcycsIHRydWUpO1xuICAgIHRoaXMuY2FuZGllcy5zZXRBbGwoJ291dE9mQm91bmRzS2lsbCcsIHRydWUpO1xuXG4gICAgLy8gdGhvdWdodFxuICAgIHRoaXMuYmFsbG9uID0gZ2FtZS5hZGQuaW1hZ2UoMCwgMCwgJ2JhbGxvb24nKTtcbiAgICB0aGlzLnRoaW5rID0gZ2FtZS5hZGQuaW1hZ2UoMzYsIDI2LCAnY2FuZHknKTtcblxuICAgIHRoaXMuYmFsbG9vbkdyb3VwID0gZ2FtZS5hZGQuZ3JvdXAoKTtcbiAgICB0aGlzLmJhbGxvb25Hcm91cC5hZGQodGhpcy5iYWxsb24pO1xuICAgIHRoaXMuYmFsbG9vbkdyb3VwLmFkZCh0aGlzLnRoaW5rKTtcblxuICAgIHRoaXMuYmFsbG9vbkdyb3VwLnNjYWxlLnggPSAwLjU7XG4gICAgdGhpcy5iYWxsb29uR3JvdXAuc2NhbGUueSA9IDAuNTtcblxuICAgIHRoaXMuYmFsbG9vbkdyb3VwLnggPSA1MDtcblxuICAgIC8vIHRleHRcbiAgICB0aGlzLnNjb3JlVGV4dCA9IGdhbWUuYWRkLnRleHQodGhpcy53b3JsZC5jZW50ZXJYLCA5MCwgJzAnKTtcbiAgICB0aGlzLnNjb3JlVGV4dC5maWxsID0gJyMwMDAnO1xuICAgIHRoaXMuc2NvcmVUZXh0LmZvbnRTaXplID0gNjQ7XG4gICAgdGhpcy5zY29yZVRleHQuYW5jaG9yLnNldCgwLjUsIDAuNSk7XG5cbiAgICB0aGlzLnNjb3JlTGFiZWwgPSBnYW1lLmFkZC50ZXh0KHRoaXMud29ybGQuY2VudGVyWCwgNDAsICdTY29yZScpO1xuICAgIHRoaXMuc2NvcmVMYWJlbC5maWxsID0gJyMwMDAnO1xuICAgIHRoaXMuc2NvcmVMYWJlbC5mb250U2l6ZSA9IDMyO1xuICAgIHRoaXMuc2NvcmVMYWJlbC5hbmNob3Iuc2V0KDAuNSwgMC41KTtcblxuICAgIGdhbWUucGh5c2ljcy5lbmFibGUoW3RoaXMuZHJhZ29uLCB0aGlzLmNhbmRpZXNdLCBQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXG4gICAgdGhpcy5kcmFnb24uYm9keS5ncmF2aXR5LnkgPSA1MDA7XG4gICAgdGhpcy5kcmFnb24uYm9keS5pbW1vdmFibGUgPSB0cnVlO1xuXG5cbiAgICB0aGlzLmJhY2tncm91bmQuYXV0b1Njcm9sbCgtMTAwLCAwKTtcblxuICAgIC8vIHNldCBsaXN0ZW5lcnNcbiAgICB0aGlzLnNldExpc2V0bmVycygpO1xuXG4gICAgLy8gc2VsZWN0IHRoZSBuZXh0IGNhbmR5IHRvIGVhdFxuICAgIHRoaXMucmVzZXRUaGluaygpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgZ2FtZS5waHlzaWNzLmFyY2FkZS5jb2xsaWRlKHRoaXMuZHJhZ29uLCB0aGlzLmNhbmRpZXMsIG51bGwsIHRoaXMuZWF0Q2FuZHksIHRoaXMpO1xuXG4gICAgdGhpcy5iYWxsb29uR3JvdXAueSA9IHRoaXMuZHJhZ29uLnkgLSA0MDtcbiAgICBpZiAoZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLmlzRG93bikge1xuICAgICAgdGhpcy5mbGFwKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZHJhZ29uLnkgPCB0aGlzLnRvcCkge1xuICAgICAgdGhpcy5kcmFnb24ueSA9IHRoaXMudG9wO1xuICAgICAgdGhpcy5kcmFnb24uYm9keS52ZWxvY2l0eS55ID0gMDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kcmFnb24ueSA+IHRoaXMuYm90dG9tKSB7XG4gICAgICB0aGlzLmRyYWdvbi55ID0gdGhpcy5ib3R0b207XG4gICAgICB0aGlzLmRyYWdvbi5ib2R5LmdyYXZpdHkueSA9IDA7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmFnb24uYm9keS5ncmF2aXR5LnkgPSA1MDA7XG4gICAgfVxuICB9LFxuXG4gIHNldExpc2V0bmVyczogZnVuY3Rpb24oKSB7XG4gICAgZ2FtZS50aW1lLmV2ZW50cy5sb29wKFBoYXNlci5UaW1lci5TRUNPTkQsIHRoaXMuZmlyZUNhbmR5LCB0aGlzKTtcbiAgfSxcblxuICByZXNldFRoaW5rOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzZWxlY3RlZENhbmR5ID0gZ2FtZS5ybmQuaW50ZWdlckluUmFuZ2UoMCwgNyk7XG4gICAgdGhpcy50aGluay5mcmFtZSA9IHNlbGVjdGVkQ2FuZHk7XG4gIH0sXG5cbiAgZWF0Q2FuZHk6IGZ1bmN0aW9uKGRyYWdvbiwgY2FuZHkpIHtcbiAgICBpZiAoY2FuZHkuZnJhbWUgPT0gdGhpcy50aGluay5mcmFtZSkge1xuXG4gICAgICBjYW5keS5raWxsKCk7XG4gICAgICBzY29yZSsrO1xuICAgICAgdGhpcy5zY29yZVRleHQudGV4dCA9IHNjb3JlO1xuICAgICAgdGhpcy5yZXNldFRoaW5rKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY2FuZHkua2lsbCgpO1xuICAgIH1cbiAgfSxcblxuICBmaXJlQ2FuZHk6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGNhbmR5ID0gdGhpcy5jYW5kaWVzLmdldEZpcnN0RGVhZCgpO1xuICAgIGNvbnN0IHl5ID0gZ2FtZS5ybmQuaW50ZWdlckluUmFuZ2UoMCwgZ2FtZS5oZWlnaHQgLSA5MCk7XG4gICAgY29uc3QgeHggPSBnYW1lLndpZHRoIC0gMTAwO1xuICAgIGNvbnN0IHR5cGUgPSBnYW1lLnJuZC5pbnRlZ2VySW5SYW5nZSgwLCA3KTtcblxuICAgIGNhbmR5LmZyYW1lID0gdHlwZTtcbiAgICBjYW5keS5yZXNldCh4eCwgeXkpO1xuICAgIGNhbmR5LmVuYWJsZSA9IHRydWU7XG4gICAgY2FuZHkuYm9keS52ZWxvY2l0eS54ID0gLTIwMDtcbiAgfSxcblxuICBmbGFwOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRyYWdvbi5ib2R5LnZlbG9jaXR5LnkgPSAtMzUwO1xuICB9XG59O1xuIl19
